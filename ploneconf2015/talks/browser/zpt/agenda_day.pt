<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
  metal:use-macro="here/main_template/macros/master"
  i18n:domain="plone">

<body>

<div metal:fill-slot="content-core">
 <ul class="list-days">
   <tal:trainings tal:repeat="item view/trainings">
     <li tal:attributes="class python:'current' if view.current(item) else None">
       <div  class="training">
         <a tal:content="item/Title" tal:attributes="href item/absolute_url"/>
       </div>
     </li>
   </tal:trainings>
   <tal:conferences tal:repeat="item view/conferences">
     <li tal:attributes="class python:'current' if view.current(item) else None">
      <div class="conference">
         <a tal:content="item/Title" tal:attributes="href item/absolute_url"/>
       </div>
     </li>
   </tal:conferences>
   <tal:sprints tal:repeat="item view/sprints">
     <li tal:attributes="class python:'current' if view.current(item) else None">
        <div class="sprint">
         <a tal:content="item/Title" tal:attributes="href item/absolute_url"/>
       </div>
     </li>
   </tal:sprints>
 </ul>

  <div class="list-slots">

   <div tal:repeat="item view/listing">

     <tal:block condition="python:isinstance(item, (str, unicode))">
       <div class="slot-when"
            tal:content="item" />
     </tal:block>

     <tal:block condition="python:not isinstance(item, (str, unicode))">
       <div class="slot" tal:define="link python:view.link(item)">
         <span class="slot-what">
           <a tal:omit-tag="not:link" tal:attributes="href link" tal:content="python:view.title(item)" />

         </span>
         
         <ul>
           <li>
              <span>Speaker 1</span>
           </li>
           <li>
              <span>Speaker 2</span>
           </li>
         </ul>

         <div>

            <span tal:condition="item/room">
              Room: 
              <small class="slot-where" tal:content="item/room" />
            </span>

            <span tal:condition="python:view.audience(item)">
              Target audience:
              <ul class="slot-audience">
                <li tal:repeat="aud python:view.audience(item)">
                  <span class="audience" tal:content="aud" />
                </li>
              </ul>
            </span>
         </div>
       </div>
     </tal:block>

   </div>
  </div>
</div>
</body>
</html>
